import{d as I,g as A,p as r,a3 as N,q as P,r as S,o as U,c as Y,e as l,b as e,w as c,f as t,a0 as x,a1 as $,j as H,h as T,F as q,t as z,a4 as G}from"./app-CE5k2Ljd.js";import{s as J}from"./textarea.esm-CMx5ksfo.js";import{s as K}from"./inputtext.esm-DrykoRSf.js";import{s as M}from"./fileupload.esm-CIQk1C13.js";import{s as O,a as Q}from"./column.esm-5f_d46RD.js";import{s as X}from"./image.esm-B_R-VSIJ.js";import{s as Z}from"./button.esm-CxD5JkEx.js";import"./index.esm-BPD6L7Y7.js";import"./index.esm-CsI05RDA.js";const ee={class:"w-full flex flex-column gap-4 h-full p-3"},le={class:"w-full flex flex-column gap-6 border-1 border-round border-blue-400 p-3"},oe={class:"text-2xl w-full flex w-full justify-content-between"},te=l("label",null,z("Projelerimiz"),-1),se={class:"flex flex-column justify-content-between"},ae={style:{width:"50%",height:"200px"}},ne={class:"flex gap-4"},ie={class:"flex flex-column gap-2"},ce=l("label",null," Yeni Ekle ",-1),de={class:"flex align-items-end h-full"},ue=l("label",{for:"city"},"İsim",-1),re={class:"flex flex-column"},me=l("label",{for:"about"},"Hakkında",-1),fe={class:"flex w-full justify-content-between"},pe={class:"flex flex-column justify-content-between"},be={style:{width:"50%",height:"200px"}},_e={class:"flex gap-4"},ve={class:"flex flex-column gap-2"},we=l("label",null," Yeni Ekle ",-1),xe={class:"flex align-items-end h-full"},ke=l("label",{for:"city"},"İsim",-1),he={class:"flex flex-column"},ge=l("label",{for:"about"},"Hakkında",-1),ye={class:"flex w-full justify-content-between"},Ee=I({__name:"works",setup(Ce){const k=A(),m=r(!1),i=r(),f=r(!1),v=r(),p=r(),b=r(),F=r(N.v1()),R=P(()=>k.works.length===1),W=async d=>{const o=d.files[0],a=new FileReader,u=await fetch(o.objectURL).then(n=>n.blob());a.readAsDataURL(u),a.onloadend=function(){const n=a.result;n&&(v.value=n)}},D=async d=>{const o=d.files[0],a=new FileReader,u=await fetch(o.objectURL).then(n=>n.blob());a.readAsDataURL(u),a.onloadend=function(){const n=a.result;n&&i.value&&(i.value.img=n)}},B=d=>{x().updateWork(d)},E=d=>{x().createWork(d)};return(d,o)=>{const a=Z,u=X,n=O,L=Q,h=M,g=K,_=S("FloatLabel"),y=J,C=G;return U(),Y(q,null,[l("div",ee,[l("div",le,[l("div",oe,[te,e(a,{class:"w-15rem",label:"Proje Ekle",icon:"pi pi-plus-circle",onClick:o[0]||(o[0]=s=>m.value=!0)})]),e(L,{class:"w-full",value:t(k).works,"striped-rows":"","table-style":"min-width: 50rem"},{default:c(()=>[e(n,{class:"w-20rem",header:"Fotoğraf"},{body:c(s=>[e(u,{"image-style":"height: 100px;",src:s.data.img},null,8,["src"])]),_:1}),e(n,{class:"w-20rem",header:"İsim",field:"name"}),e(n,{header:"Hakkında",field:"about"}),e(n,null,{body:c(s=>[e(a,{link:"",icon:"pi pi-pencil",onClick:()=>{f.value=!0,i.value=s.data}},null,8,["onClick"])]),_:1}),e(n,null,{body:c(s=>[e(a,{disabled:t(R),link:"",icon:"pi pi-trash text-red-300",onClick:w=>t(x)().deleteWork(s.data.id)},null,8,["disabled","onClick"])]),_:1})]),_:1},8,["value"])])]),e(C,{closable:!1,modal:"",visible:t(m)},{default:c(()=>[l("div",se,[l("div",ae,[l("div",ne,[l("div",ie,[ce,e(u,{preview:"",src:t(v),width:"200"},null,8,["src"])]),l("div",de,[e(h,{"choose-label":"Yeni Resim Ekle",mode:"basic",name:"demo[]",url:"/api/upload",accept:"image/*","custom-upload":"",onUploader:W})])])]),e(_,{class:"w-full flex flex-column"},{default:c(()=>[ue,e(g,{id:"city",modelValue:t(p),"onUpdate:modelValue":o[1]||(o[1]=s=>$(p)?p.value=s:null)},null,8,["modelValue"])]),_:1})]),l("div",re,[e(_,{class:"w-full flex flex-column"},{default:c(()=>[me,e(y,{id:"about",modelValue:t(b),"onUpdate:modelValue":o[2]||(o[2]=s=>$(b)?b.value=s:null),rows:"10",cols:"100"},null,8,["modelValue"])]),_:1})]),l("div",fe,[e(a,{link:"",icon:"pi pi-arrow-left",label:"İptal",onClick:o[3]||(o[3]=s=>m.value=!1)}),e(a,{icon:"pi pi-save",label:"kaydet",onClick:o[4]||(o[4]=()=>{E({about:t(b)??"",id:t(F),img:t(v)??"",name:t(p)??""}),m.value=!1})})])]),_:1},8,["visible"]),t(i)?(U(),H(C,{key:0,modal:"",visible:t(f),closable:!1},{default:c(()=>[l("div",pe,[l("div",be,[l("div",_e,[l("div",ve,[we,e(u,{preview:"",src:t(i).img,width:"200"},null,8,["src"])]),l("div",xe,[e(h,{"choose-label":"Yeni Resim Ekle",mode:"basic",name:"demo[]",url:"/api/upload",accept:"image/*","custom-upload":"",onUploader:D})])])]),e(_,{class:"w-full flex flex-column"},{default:c(()=>[ke,e(g,{id:"city",modelValue:t(i).name,"onUpdate:modelValue":o[5]||(o[5]=s=>t(i).name=s)},null,8,["modelValue"])]),_:1})]),l("div",he,[e(_,{class:"w-full flex flex-column"},{default:c(()=>[ge,e(y,{id:"about",modelValue:t(i).about,"onUpdate:modelValue":o[6]||(o[6]=s=>t(i).about=s),rows:"10",cols:"100"},null,8,["modelValue"])]),_:1})]),l("div",ye,[e(a,{link:"",icon:"pi pi-arrow-left",label:"İptal",onClick:o[7]||(o[7]=s=>f.value=!1)}),e(a,{icon:"pi pi-save",label:"kaydet",onClick:o[8]||(o[8]=()=>{var s,w,V,j;B({about:((s=t(i))==null?void 0:s.about)??"",id:((w=t(i))==null?void 0:w.id)??"",img:((V=t(i))==null?void 0:V.img)??"",name:((j=t(i))==null?void 0:j.name)??""}),f.value=!1})})])]),_:1},8,["visible"])):T("",!0)],64)}}});export{Ee as default};
